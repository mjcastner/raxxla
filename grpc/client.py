from __future__ import print_function
import logging

import grpc

import api_raxxla_pb2
import api_raxxla_pb2_grpc

POWERPLAY_JSON = '''{"power":"Edmund Mahon","powerState":"Exploited","id":15453,"id64":6406111564522,"name":"Kitchosat","coords":{"x":21.90625,"y":64.8125,"z":107.625},"allegiance":"Independent","government":"Corporate","state":"None","date":"2020-12-24 04:17:51"}'''
PLANET_JSON = '''{"id":262289809,"id64":1405123461663602546,"bodyId":39,"name":"Byeia Auwsy JV-D c13-1 3","type":"Planet","subType":"Gas giant with ammonia-based life","parents":[{"Null":38},{"Null":37},{"Star":0}],"distanceToArrival":4183,"isLandable":false,"gravity":3.933318274373266,"earthMasses":545.528687,"radius":75112.768,"surfaceTemperature":143,"surfacePressure":0,"volcanismType":"No volcanism","atmosphereType":"No atmosphere","atmosphereComposition":{"Hydrogen":72.97,"Helium":26.99},"solidComposition":null,"terraformingState":"Not terraformable","orbitalPeriod":321.5753852769213,"semiMajorAxis":0.016215843348876623,"orbitalEccentricity":0.038608,"orbitalInclination":0.716835,"argOfPeriapsis":314.529009,"rotationalPeriod":1.622185318761574,"rotationalPeriodTidallyLocked":false,"axialTilt":0.249962,"rings":[{"name":"Byeia Auwsy JV-D c13-1 3 A Ring","type":"Rocky","mass":183190000000,"innerRadius":123940,"outerRadius":149260},{"name":"Byeia Auwsy JV-D c13-1 3 B Ring","type":"Icy","mass":1961600000000,"innerRadius":149360,"outerRadius":303120}],"reserveLevel":"Pristine","updateTime":"2020-12-08 12:18:01","systemId":59547254,"systemId64":377924007794,"systemName":"Byeia Auwsy JV-D c13-1"}'''
STAR_JSON = '''{"id":262293465,"id64":111197315617635,"bodyId":0,"name":"Scheau Pri AI-H d11-3236","type":"Star","subType":"A (Blue-White) Star","parents":null,"distanceToArrival":0,"isMainStar":true,"isScoopable":true,"age":346,"spectralClass":"A5","luminosity":"VI","absoluteMagnitude":2.44072,"solarMasses":1.679688,"solarRadius":1.3630980416966212,"surfaceTemperature":8578,"orbitalPeriod":null,"semiMajorAxis":null,"orbitalEccentricity":null,"orbitalInclination":null,"argOfPeriapsis":null,"rotationalPeriod":0.8252606361921296,"rotationalPeriodTidallyLocked":false,"axialTilt":0,"belts":[{"name":"Scheau Pri AI-H d11-3236 A Belt","type":"Rocky","mass":2867700000000000,"innerRadius":199710000,"outerRadius":317030000}],"updateTime":"2020-12-08 12:32:47","systemId":59547780,"systemId64":111197315617635,"systemName":"Scheau Pri AI-H d11-3236"}'''
STATIONS_JSON = '''{"id":61342,"marketId":3231496704,"type":"Outpost","name":"Bass City","distanceToArrival":1085.596924,"allegiance":"Independent","government":"Democracy","economy":"Industrial","secondEconomy":"Extraction","haveMarket":true,"haveShipyard":false,"haveOutfitting":false,"otherServices":["Black Market","Refuel","Contacts","Universal Cartographics","Missions","Search and Rescue"],"controllingFaction":{"id":23531,"name":"Progressive Party of Sibitica"},"updateTime":{"information":"2020-07-22 09:41:16","market":"2020-04-26 14:15:53","shipyard":null,"outfitting":null},"systemId":13429,"systemId64":5070075209145,"systemName":"Sibitica","commodities":[{"id":"advancedmedicines","name":"Advanced Medicines","buyPrice":0,"stock":0,"sellPrice":1774,"demand":10773,"stockBracket":0},{"id":"agronomictreatment","name":"Agronomic Treatment","buyPrice":0,"stock":0,"sellPrice":3566,"demand":52,"stockBracket":0},{"id":"algae","name":"Algae","buyPrice":0,"stock":0,"sellPrice":665,"demand":75367,"stockBracket":0},{"id":"aluminium","name":"Aluminium","buyPrice":0,"stock":0,"sellPrice":823,"demand":659862,"stockBracket":0},{"id":"animalmeat","name":"Animal Meat","buyPrice":0,"stock":0,"sellPrice":1941,"demand":9278,"stockBracket":0},{"id":"atmosphericprocessors","name":"Atmospheric Processors","buyPrice":308,"stock":44994,"sellPrice":287,"demand":1,"stockBracket":3},{"id":"autofabricators","name":"Auto-Fabricators","buyPrice":0,"stock":0,"sellPrice":4457,"demand":10729,"stockBracket":0},{"id":"basicmedicines","name":"Basic Medicines","buyPrice":399,"stock":3742,"sellPrice":362,"demand":1,"stockBracket":2},{"id":"bauxite","name":"Bauxite","buyPrice":123,"stock":8390,"sellPrice":92,"demand":1,"stockBracket":2},{"id":"beer","name":"Beer","buyPrice":0,"stock":0,"sellPrice":698,"demand":53205,"stockBracket":0},{"id":"bertrandite","name":"Bertrandite","buyPrice":2273,"stock":19866,"sellPrice":2213,"demand":1,"stockBracket":2},{"id":"beryllium","name":"Beryllium","buyPrice":0,"stock":0,"sellPrice":9052,"demand":27482,"stockBracket":0},{"id":"bioreducinglichen","name":"Bioreducing Lichen","buyPrice":0,"stock":0,"sellPrice":1562,"demand":95883,"stockBracket":0},{"id":"biowaste","name":"Biowaste","buyPrice":47,"stock":5886,"sellPrice":28,"demand":1,"stockBracket":3},{"id":"blackbox","name":"Black Box","buyPrice":0,"stock":0,"sellPrice":20356,"demand":102,"stockBracket":0},{"id":"buildingfabricators","name":"Building Fabricators","buyPrice":876,"stock":131876,"sellPrice":839,"demand":1,"stockBracket":3},{"id":"ceramiccomposites","name":"Ceramic Composites","buyPrice":0,"stock":0,"sellPrice":660,"demand":223236,"stockBracket":0},{"id":"clothing","name":"Clothing","buyPrice":0,"stock":0,"sellPrice":861,"demand":13390,"stockBracket":0},{"id":"cmmcomposite","name":"CMM Composite","buyPrice":0,"stock":0,"sellPrice":6709,"demand":11111,"stockBracket":0},{"id":"cobalt","name":"Cobalt","buyPrice":0,"stock":0,"sellPrice":701,"demand":10105,"stockBracket":0},{"id":"coffee","name":"Coffee","buyPrice":0,"stock":0,"sellPrice":1941,"demand":2646,"stockBracket":0},{"id":"coltan","name":"Coltan","buyPrice":1295,"stock":7877,"sellPrice":1241,"demand":1,"stockBracket":2},{"id":"computercomponents","name":"Computer Components","buyPrice":567,"stock":9734,"sellPrice":530,"demand":1,"stockBracket":2},{"id":"conductivefabrics","name":"Conductive Fabrics","buyPrice":0,"stock":0,"sellPrice":948,"demand":77448,"stockBracket":0},{"id":"consumertechnology","name":"Consumer Technology","buyPrice":0,"stock":0,"sellPrice":7584,"demand":4826,"stockBracket":0},{"id":"coolinghoses","name":"Micro-weave Cooling Hoses","buyPrice":0,"stock":0,"sellPrice":1855,"demand":38175,"stockBracket":0},{"id":"copper","name":"Copper","buyPrice":0,"stock":0,"sellPrice":879,"demand":185622,"stockBracket":0},{"id":"cropharvesters","name":"Crop Harvesters","buyPrice":1812,"stock":160431,"sellPrice":1763,"demand":1,"stockBracket":3},{"id":"damagedescapepod","name":"Damaged Escape Pod","buyPrice":0,"stock":0,"sellPrice":16750,"demand":351,"stockBracket":0},{"id":"domesticappliances","name":"Domestic Appliances","buyPrice":0,"stock":0,"sellPrice":652,"demand":1161,"stockBracket":0},{"id":"emergencypowercells","name":"Emergency Power Cells","buyPrice":0,"stock":0,"sellPrice":2876,"demand":5989,"stockBracket":0},{"id":"exhaustmanifold","name":"Exhaust Manifold","buyPrice":0,"stock":0,"sellPrice":2348,"demand":7299,"stockBracket":0},{"id":"explosives","name":"Explosives","buyPrice":0,"stock":0,"sellPrice":528,"demand":13128,"stockBracket":0},{"id":"fish","name":"Fish","buyPrice":0,"stock":0,"sellPrice":952,"demand":26601,"stockBracket":0},{"id":"foodcartridges","name":"Food Cartridges","buyPrice":114,"stock":8686,"sellPrice":74,"demand":1,"stockBracket":2},{"id":"fruitandvegetables","name":"Fruit and Vegetables","buyPrice":0,"stock":0,"sellPrice":851,"demand":9544,"stockBracket":0},{"id":"gallite","name":"Gallite","buyPrice":1765,"stock":30485,"sellPrice":1717,"demand":1,"stockBracket":2},{"id":"gallium","name":"Gallium","buyPrice":0,"stock":0,"sellPrice":5856,"demand":75322,"stockBracket":0},{"id":"geologicalequipment","name":"Geological Equipment","buyPrice":1706,"stock":1114,"sellPrice":1659,"demand":1,"stockBracket":2},{"id":"gold","name":"Gold","buyPrice":0,"stock":0,"sellPrice":10836,"demand":47615,"stockBracket":0},{"id":"grain","name":"Grain","buyPrice":0,"stock":0,"sellPrice":730,"demand":58792,"stockBracket":0},{"id":"hazardousenvironmentsuits","name":"H.E. Suits","buyPrice":0,"stock":0,"sellPrice":806,"demand":215090,"stockBracket":0},{"id":"hnshockmount","name":"HN Shock Mount","buyPrice":1471,"stock":16617,"sellPrice":1431,"demand":1,"stockBracket":3},{"id":"hostage","name":"Hostage","buyPrice":0,"stock":0,"sellPrice":34386,"demand":102,"stockBracket":0},{"id":"hydrogenfuel","name":"Hydrogen Fuel","buyPrice":84,"stock":114024,"sellPrice":80,"demand":1,"stockBracket":3},{"id":"hydrogenperoxide","name":"Hydrogen Peroxide","buyPrice":0,"stock":0,"sellPrice":1164,"demand":235781,"stockBracket":0},{"id":"indite","name":"Indite","buyPrice":2002,"stock":5477,"sellPrice":1948,"demand":1,"stockBracket":2},{"id":"indium","name":"Indium","buyPrice":0,"stock":0,"sellPrice":5743,"demand":3743,"stockBracket":0},{"id":"insulatingmembrane","name":"Insulating Membrane","buyPrice":0,"stock":0,"sellPrice":11697,"demand":6987,"stockBracket":0},{"id":"leather","name":"Leather","buyPrice":0,"stock":0,"sellPrice":698,"demand":376501,"stockBracket":0},{"id":"lepidolite","name":"Lepidolite","buyPrice":593,"stock":32367,"sellPrice":565,"demand":1,"stockBracket":2},{"id":"liquidoxygen","name":"Liquid Oxygen","buyPrice":0,"stock":0,"sellPrice":715,"demand":125399,"stockBracket":0},{"id":"liquor","name":"Liquor","buyPrice":0,"stock":0,"sellPrice":1315,"demand":1299,"stockBracket":0},{"id":"lithium","name":"Lithium","buyPrice":0,"stock":0,"sellPrice":2167,"demand":76981,"stockBracket":0},{"id":"lowtemperaturediamond","name":"Low Temperature Diamonds","buyPrice":0,"stock":0,"sellPrice":241615,"demand":780,"stockBracket":0},{"id":"marineequipment","name":"Marine Equipment","buyPrice":3610,"stock":96059,"sellPrice":3519,"demand":1,"stockBracket":3},{"id":"microcontrollers","name":"Micro Controllers","buyPrice":0,"stock":0,"sellPrice":6331,"demand":3993,"stockBracket":0},{"id":"mineralextractors","name":"Mineral Extractors","buyPrice":0,"stock":0,"sellPrice":748,"demand":66344,"stockBracket":0},{"id":"naturalfabrics","name":"Natural Fabrics","buyPrice":0,"stock":0,"sellPrice":952,"demand":67616,"stockBracket":0},{"id":"nonlethalweapons","name":"Non-Lethal Weapons","buyPrice":0,"stock":0,"sellPrice":1766,"demand":261,"stockBracket":0},{"id":"occupiedcryopod","name":"Occupied Escape Pod","buyPrice":0,"stock":0,"sellPrice":30143,"demand":102,"stockBracket":0},{"id":"osmium","name":"Osmium","buyPrice":0,"stock":0,"sellPrice":17107,"demand":34432,"stockBracket":0},{"id":"painite","name":"Painite","buyPrice":0,"stock":0,"sellPrice":74475,"demand":594,"stockBracket":0},{"id":"palladium","name":"Palladium","buyPrice":0,"stock":0,"sellPrice":14073,"demand":40024,"stockBracket":0},{"id":"performanceenhancers","name":"Performance Enhancers","buyPrice":0,"stock":0,"sellPrice":7584,"demand":4596,"stockBracket":0},{"id":"personaleffects","name":"Personal Effects","buyPrice":0,"stock":0,"sellPrice":9416,"demand":102,"stockBracket":0},{"id":"platinum","name":"Platinum","buyPrice":0,"stock":0,"sellPrice":42459,"demand":2995,"stockBracket":0},{"id":"polymers","name":"Polymers","buyPrice":0,"stock":0,"sellPrice":599,"demand":325002,"stockBracket":0},{"id":"powergenerators","name":"Power Generators","buyPrice":657,"stock":4000,"sellPrice":615,"demand":1,"stockBracket":2},{"id":"praseodymium","name":"Praseodymium","buyPrice":0,"stock":0,"sellPrice":8573,"demand":30191,"stockBracket":0},{"id":"progenitorcells","name":"Progenitor Cells","buyPrice":0,"stock":0,"sellPrice":7584,"demand":1574,"stockBracket":0},{"id":"reactivearmour","name":"Reactive Armour","buyPrice":0,"stock":0,"sellPrice":2700,"demand":1935,"stockBracket":0},{"id":"robotics","name":"Robotics","buyPrice":0,"stock":0,"sellPrice":2468,"demand":26901,"stockBracket":0},{"id":"rutile","name":"Rutile","buyPrice":347,"stock":28429,"sellPrice":321,"demand":1,"stockBracket":2},{"id":"samarium","name":"Samarium","buyPrice":0,"stock":0,"sellPrice":15061,"demand":19212,"stockBracket":0},{"id":"scrap","name":"Scrap","buyPrice":100,"stock":40392,"sellPrice":83,"demand":1,"stockBracket":3},{"id":"semiconductors","name":"Semiconductors","buyPrice":0,"stock":0,"sellPrice":1409,"demand":43985,"stockBracket":0},{"id":"silver","name":"Silver","buyPrice":0,"stock":0,"sellPrice":5533,"demand":84438,"stockBracket":0},{"id":"skimmercomponents","name":"Skimmer Components","buyPrice":951,"stock":2325,"sellPrice":909,"demand":1,"stockBracket":2},{"id":"superconductors","name":"Superconductors","buyPrice":0,"stock":0,"sellPrice":6561,"demand":2496,"stockBracket":0},{"id":"survivalequipment","name":"Survival Equipment","buyPrice":411,"stock":822,"sellPrice":385,"demand":1,"stockBracket":3},{"id":"syntheticfabrics","name":"Synthetic Fabrics","buyPrice":0,"stock":0,"sellPrice":631,"demand":227041,"stockBracket":0},{"id":"syntheticmeat","name":"Synthetic Meat","buyPrice":0,"stock":0,"sellPrice":780,"demand":6163,"stockBracket":0},{"id":"tantalum","name":"Tantalum","buyPrice":0,"stock":0,"sellPrice":4471,"demand":39875,"stockBracket":0},{"id":"tea","name":"Tea","buyPrice":0,"stock":0,"sellPrice":2130,"demand":8492,"stockBracket":0},{"id":"thermalcoolingunits","name":"Thermal Cooling Units","buyPrice":261,"stock":33018,"sellPrice":236,"demand":1,"stockBracket":3},{"id":"titanium","name":"Titanium","buyPrice":0,"stock":0,"sellPrice":1550,"demand":269744,"stockBracket":0},{"id":"tobacco","name":"Tobacco","buyPrice":0,"stock":0,"sellPrice":5621,"demand":4033,"stockBracket":0},{"id":"uraninite","name":"Uraninite","buyPrice":865,"stock":11302,"sellPrice":827,"demand":1,"stockBracket":2},{"id":"uranium","name":"Uranium","buyPrice":0,"stock":0,"sellPrice":3355,"demand":202879,"stockBracket":0},{"id":"water","name":"Water","buyPrice":0,"stock":0,"sellPrice":330,"demand":23607,"stockBracket":0},{"id":"waterpurifiers","name":"Water Purifiers","buyPrice":219,"stock":219757,"sellPrice":198,"demand":1,"stockBracket":3},{"id":"wine","name":"Wine","buyPrice":0,"stock":0,"sellPrice":780,"demand":34887,"stockBracket":0},{"id":"wreckagecomponents","name":"Wreckage Components","buyPrice":0,"stock":0,"sellPrice":9115,"demand":1007,"stockBracket":0}],"ships":null,"outfitting":null}'''

def run():
    responses = []
    with grpc.insecure_channel('localhost:50051') as channel:
        stub = api_raxxla_pb2_grpc.RaxxlaStub(channel)

        # planet_response = stub.ConvertPlanetJson(api_raxxla_pb2.ConvertEdsmRequest(json=PLANET_JSON))
        # responses.append(planet_response)

        # powerplay_response = stub.ConvertPowerplayJson(api_raxxla_pb2.ConvertEdsmRequest(json=POWERPLAY_JSON))
        # responses.append(powerplay_response)

        star_response = stub.ConvertStarJson(api_raxxla_pb2.ConvertEdsmRequest(json=STAR_JSON))
        responses.append(star_response)

        print(star_response)

    # print('Client received:\n')
    # [print(x.message) for x in responses]


if __name__ == '__main__':
    logging.basicConfig()
    run()